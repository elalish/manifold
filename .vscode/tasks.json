{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "1. Compile C++",
      "type": "shell",
      // Runs 'make' from the 'build' directory.
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/build"
      },
      "group": "build",
      "problemMatcher": [
        "$gcc"
      ],
      "detail": "Runs 'make' in the 'build' directory."
    },
    {
      "label": "2. Run C++ to Generate Data",
      "type": "shell",
      // Runs the executable located at build/project/FilletMain
      "command": "${workspaceFolder}/build/project/FilletMain",
      "options": {
        "cwd": "${workspaceFolder}/build"
      },
      "dependsOn": [
        "1. Compile C++"
      ],
      "group": "build",
      "detail": "Runs the compiled C++ program to generate the data file."
    },
    {
      "label": "3. Run Python Visualizer",
      "type": "shell",
      // Runs the Python script located at project/vis.py
      "command": "python3",
      "args": [
        "${workspaceFolder}/project/vis.py"
      ],
      "options": {
        "cwd": "${workspaceFolder}/project"
      },
      "dependsOn": [
        "2. Run C++ to Generate Data"
      ],
      "group": "build",
      "detail": "Runs the Python script to read the data file and visualize the results."
    },
    {
      "label": "Build, Run & Visualize",
      // This is the main task that runs all other tasks in sequence.
      "dependsOn": [
        "1. Compile C++",
        "2. Run C++ to Generate Data",
        "3. Run Python Visualizer"
      ],
      // Ensures the tasks run one after another in the order specified above.
      "dependsOrder": "sequence",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "The primary task to compile, run the C++ code, and then run the Python visualizer."
    }
  ]
}